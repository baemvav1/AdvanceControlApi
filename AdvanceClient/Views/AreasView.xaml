<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="AdvanceClient.Views.AreasView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid Padding="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header with shape drawing tools -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Spacing="8" Margin="0,0,0,16">
            <TextBlock Text="Herramientas de Dibujo:" VerticalAlignment="Center" Margin="0,0,16,0"/>
            <Button x:Name="DrawPolygonButton" Content="Polígono" Click="DrawPolygon_Click"/>
            <Button x:Name="DrawRectangleButton" Content="Rectángulo" Click="DrawRectangle_Click"/>
            <Button x:Name="DrawCircleButton" Content="Círculo" Click="DrawCircle_Click"/>
            <Button x:Name="DrawPolylineButton" Content="Línea" Click="DrawPolyline_Click"/>
            <Button x:Name="ClearShapeButton" Content="Limpiar" Click="ClearShape_Click"/>
        </StackPanel>

        <!-- Map area (placeholder for WebView2 with Google Maps) -->
        <Border Grid.Row="1" BorderBrush="{ThemeResource SystemControlForegroundBaseMediumBrush}" BorderThickness="1" CornerRadius="8" MinHeight="400">
            <Grid x:Name="MapContainer" Background="{ThemeResource SystemControlBackgroundChromeMediumLowBrush}">
                <TextBlock Text="Mapa cargando..." HorizontalAlignment="Center" VerticalAlignment="Center" 
                           Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
            </Grid>
        </Border>

        <!-- Form panel -->
        <StackPanel Grid.Row="2" Spacing="8" Margin="0,16,0,0">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0" Spacing="8" Margin="0,0,8,0">
                    <TextBox x:Name="NombreTextBox" Header="Nombre del Área" PlaceholderText="Ingrese el nombre"/>
                    <TextBox x:Name="DescripcionTextBox" Header="Descripción" PlaceholderText="Descripción opcional"/>
                </StackPanel>
                
                <StackPanel Grid.Column="1" Spacing="8" Margin="8,0,0,0">
                    <TextBlock Text="Tipo de Geometría:" Margin="0,0,0,4"/>
                    <TextBlock x:Name="TipoGeometriaTextBlock" Text="(Dibuje en el mapa)" 
                               FontStyle="Italic" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                    <ToggleSwitch x:Name="ActivoToggle" Header="Activo" IsOn="True"/>
                </StackPanel>
            </Grid>
            
            <StackPanel Orientation="Horizontal" Spacing="8" HorizontalAlignment="Right" Margin="0,16,0,0">
                <Button x:Name="CancelButton" Content="Cancelar" Click="CancelButton_Click" Width="120"/>
                <Button x:Name="SaveButton" Content="Guardar" Click="SaveButton_Click" 
                        Style="{ThemeResource AccentButtonStyle}" Width="120"/>
            </StackPanel>
        </StackPanel>
    </Grid>
</Page>
